<div class="container wrapper">
	<div class="starter-template">
		<h1><img src="/img/tablet.png" alt="" />Mobile Controller</h1>
		<div class="mobile-buttons clearfix">
			<button type="button" class="blue-styled-button togglePlay">Pause</button>
			<button type="button" class="blue-styled-button skipBtn">Skip</button>
			<button type="button" class="blue-styled-button volBtn" id="up">Volume +</button>
			<button type="button" class="blue-styled-button volBtn" id="down">Volume -</button>
		</div>
		<div class="currentsong"></div>
		<div class="currentvolume"></div>
		<div class="nosongs"></div>
	</div>
</div>
<script src="https://ttv-api.s3.amazonaws.com/twitch.min.js"></script>
<script src="https://www.youtube.com/iframe_api"></script>
<script>

async function initMobile() {
	const songlist = await loadSonglist(channelData,'');
	if (songlist) {
		const currentVolume = await getVolume(channelData);
		updateOnScreenVolume(currentVolume);
	} else {
		$('.nosongs').html("Currently no songs in the queue!");
	};
	applyMusicStatus(channelData);
};
initMobile();
$.ajaxSetup({ cache: false });

$('.volBtn').click(async function(e) {
	e.preventDefault();
	let newVol = await volumeBtnClick($(this));
	await updateVolume(channelData,newVol);
	updateOnScreenVolume(newVol);
});

$('.togglePlay').click(async function(e) {
	e.preventDefault();
	if ($(this).text() == 'Pause') {
		await updateMusicStatus(channelData,'pause');
		$(this).text('Play');
	} else {
		await updateMusicStatus(channelData,'play');
		$(this).text('Pause');
	};
});

$('.skipBtn').click(function(e) {
	e.preventDefault();
	loadNextSong();
	loadSonglist(channelData,'');
});
</script>